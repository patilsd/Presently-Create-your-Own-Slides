<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Login Page</title>
    <link rel="stylesheet" href="./signin.css" />
    <link rel="stylesheet" href="./signup.css">
</head>

<body>
    <nav>
        <div class="container">
            <div class="logo">
                <h1>Presently</h1>
            </div>
        </div>
    </nav>

    <div class="container">
        <div class="form-background">
            <div class="form-content">
                <div class="heading">
                    <h2>
                        One account. Any device. Just for you. Sign in to get started.
                    </h2>
                </div>
                <div class="form-data">
                    <form>
                        <div class="input-group form__group">
                            <input type="text" class="form__field" placeholder="Email or phone number" name="email" id="email" required />
                            <label for="email" class="form__label">Email or phone number</label>
                        </div>

                        <div class="input-group form__group">
                            <input type="password" class="form__field" placeholder="Password" name="password" id="password" required />
                            <label for="password" class="form__label">Password</label>
                        </div>

                        <div class="radio">
                            <input type="radio" id="rememberID" />
                            <label for="rememberID">Remember my ID</label>
                        </div>
                        <div>
                            <button class="primary-btn" type="submit">Next</button>
                        </div>
                        <div class="forget">
                            <a href="#">Find ID</a>
                            <a href="#" class="new-account">Create account</a>
                        </div>
                        <div class="signedIn">
                            <input type="radio" id="staySignedIn" />
                            <label for="staySignedIn">Stay signed in</label>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-app.js";
        import { getAuth, signInWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-auth.js";
    
        const firebaseConfig = {
            apiKey: "AIzaSyAQL-Ygrc_OOObsH2NkHEXhqyYr-qjqwxg",
            authDomain: "taskflow-bf071.firebaseapp.com",
            databaseURL: "https://taskflow-bf071-default-rtdb.firebaseio.com",
            projectId: "taskflow-bf071",
            storageBucket: "taskflow-bf071.appspot.com",
            messagingSenderId: "243967618592",
            appId: "1:243967618592:web:5c1b206938c039dfc3d645"
        };
    
        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
    
        document.querySelector("form").addEventListener("submit", function (event) {
            event.preventDefault();
            login();
        });
    
        function login() {
            const email = document.querySelector("#email").value;
            const password = document.querySelector("#password").value;
    
            signInWithEmailAndPassword(auth, email, password)
                .then((userCredential) => {
                    const user = userCredential.user;
                    localStorage.setItem("authToken", user.accessToken);
                    alert("Login successful");
    
                    // Redirect directly to the desired URL after successful login
                    window.location.href = "https://presentlyy-editor.netlify.app/";
                })
                .catch((error) => {
                    alert(error.message);
                });
        }
    </script>
    
    
</body>

</html>
